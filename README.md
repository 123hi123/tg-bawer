# TG-Bawer ğŸŒâœï¸

Telegram Bot powered by Gemini - ç”¨ AI ç•«ä½ æƒ³è¦çš„åœ–ï¼

> **Bawer** = **Ba**nana + Dra**wer** ğŸ¨

## âœ¨ åŠŸèƒ½ç‰¹è‰²

- ğŸ–¼ï¸ **AI åœ–ç‰‡ç”Ÿæˆ** - è¼¸å…¥æ–‡å­—æè¿°ï¼ŒAI å¹«ä½ ç”Ÿæˆåœ–ç‰‡
- ğŸ”„ **åœ–ç‰‡ç·¨è¼¯** - å›è¦†åœ–ç‰‡ä¸¦æè¿°ä½ æƒ³è¦çš„ä¿®æ”¹
- ğŸ“¸ **å¤šåœ–æ”¯æ´** - ä¸€æ¬¡ä¸Šå‚³å¤šå¼µåœ–ç‰‡ï¼ŒBot æœƒå…¨éƒ¨æŠ“å–è™•ç†
- ğŸ­ **è²¼åœ–æ”¯æ´** - å¯ä»¥ç”¨è²¼åœ–ç•¶ä½œåœ–ç‰‡ç´ æ
- ğŸ“ **è‡ªè¨‚æ¯”ä¾‹** - æ”¯æ´ @1:1 @16:9 @9:16 ç­‰å¤šç¨®æ¯”ä¾‹
- ğŸ¨ **ç•«è³ªé¸æ“‡** - @1K @2K @4K ä¸‰ç¨®ç•«è³ª
- ğŸ’¾ **Prompt ç®¡ç†** - ä¿å­˜ã€åˆ—å‡ºã€è¨­å®šé è¨­ Prompt
- ğŸ‘¥ **ç¾¤çµ„æ”¯æ´** - åœ¨ç¾¤çµ„ä¸­ä»¥ . é–‹é ­è§¸ç™¼
- ğŸ”Œ **å¤šæœå‹™ä¾†æº** - æ”¯æ´ standard / custom URL / Vertex ä¸‰ç¨®æœå‹™
- ğŸ¨ **ç•«è³ªä¸é™ç´šé‡è©¦** - fallback é‡è©¦ç¶­æŒä½¿ç”¨è€…æŒ‡å®šç•«è³ª
- ğŸ”„ **å¤±æ•—é‡è©¦ä½‡åˆ—** - å¤±æ•—çµ„åˆå…¥åº«ï¼Œç³»çµ±æ¯ 15 åˆ†é˜éš¨æ©Ÿé‡è©¦ 1 ç­†
- ğŸ“¦ **é›™è¼¸å‡º** - åŒæ™‚è¼¸å‡ºé è¦½åœ–å’ŒåŸå§‹æª”æ¡ˆ

---

## ğŸš€ å‰ç½®æº–å‚™

åœ¨é–‹å§‹ä¹‹å‰ï¼Œä½ éœ€è¦æº–å‚™ï¼š

### 1. Gemini API Keyï¼ˆå¯é¸ï¼‰

1. å‰å¾€ [Google AI Studio](https://aistudio.google.com/app/apikey)
2. é»æ“Š Create API Key
3. è¤‡è£½ä½ çš„ API Key

> è‹¥ä¸æƒ³åœ¨ç’°å¢ƒè®Šæ•¸æ”¾ API Keyï¼Œä¹Ÿå¯è®“ Bot å•Ÿå‹•å¾Œç”¨ `/service add ...` æ‰‹å‹•æ–°å¢ã€‚

### 2. Telegram Bot Token

1. åœ¨ Telegram æœå°‹ @BotFather
2. ç™¼é€ /newbot å»ºç«‹æ–° Bot
3. ä¾ç…§æŒ‡ç¤ºè¨­å®š Bot åç¨±
4. è¤‡è£½ä½ çš„ Bot Token

---

## ğŸ“¦ å¿«é€Ÿéƒ¨ç½²

### ä¸€è¡Œéƒ¨ç½²ï¼ˆæ¨è–¦ï¼‰

```bash
docker run -d \
  --name tg-bawer \
  --restart unless-stopped \
  -e GEMINI_API_KEY=ä½ çš„_GEMINI_API_KEY \
  -e BOT_TOKEN=ä½ çš„_BOT_TOKEN \
  -v ~/.tg-bawer:/app/data \
  ghcr.io/123hi123/tg-bawer:latest
```

### ä½¿ç”¨ Docker Compose

1. å»ºç«‹ .env æª”æ¡ˆï¼š
   ```
   GEMINI_API_KEY=ä½ çš„_GEMINI_API_KEY
   BOT_TOKEN=ä½ çš„_BOT_TOKEN
   ```

2. å•Ÿå‹•ï¼š
   ```bash
   docker-compose up -d
   ```

---

## ğŸ“– ä½¿ç”¨æ–¹å¼

### åŸºæœ¬ç”¨æ³•

| æ“ä½œ | èªªæ˜ |
|------|------|
| ç›´æ¥è¼¸å…¥æ–‡å­— | AI æ ¹æ“šæè¿°ç”Ÿæˆåœ–ç‰‡ |
| å›è¦†åœ–ç‰‡ + è¼¸å…¥æ–‡å­— | AI æ ¹æ“šåœ–ç‰‡å’Œæè¿°é€²è¡Œç·¨è¼¯ |
| å›è¦†æ–‡å­— + å‚³åœ–ç‰‡ | åŒä¸Šï¼Œå¦ä¸€ç¨®æ“ä½œæ–¹å¼ |
| ä¸Šå‚³å¤šå¼µåœ– + å›è¦†å…¶ä¸€ | AI æœƒæŠ“å–æ‰€æœ‰åœ–ç‰‡ä¸€èµ·è™•ç† |

### ä½¿ç”¨ç¯„ä¾‹

#### 1ï¸âƒ£ ç´”æ–‡å­—ç”Ÿæˆåœ–ç‰‡

ç›´æ¥è¼¸å…¥æ–‡å­—æè¿°ï¼ŒAI æœƒå¹«ä½ ç”Ÿæˆåœ–ç‰‡ï¼š

![ç´”æ–‡å­—ç”Ÿæˆ](https://cdn.jsdelivr.net/gh/321hi123/typoraimgbed/img/image-20251206151826189.png)

#### 2ï¸âƒ£ å¤šåœ–è™•ç†

ä¸Šå‚³å¤šå¼µåœ–ç‰‡ï¼ˆç¢ºä¿æ˜¯ Media Groupï¼‰ï¼Œç„¶å¾Œå›è¦†å…¶ä¸­ä»»ä¸€å¼µï¼š

![ä¸Šå‚³å¤šåœ–](https://cdn.jsdelivr.net/gh/321hi123/typoraimgbed/img/image-20251206151923134.png)

Bot æœƒè‡ªå‹•æŠ“å–æ•´å€‹ Group çš„æ‰€æœ‰åœ–ç‰‡ä¸€èµ·è™•ç†ï¼š

![å›è¦†å¤šåœ–](https://cdn.jsdelivr.net/gh/321hi123/typoraimgbed/img/image-20251206152036722.png)

#### 3ï¸âƒ£ ç”¨åœ–ç‰‡/è²¼åœ–å›è¦†æ–‡å­—

å…ˆç™¼é€æ–‡å­—æè¿°ï¼Œç„¶å¾Œç”¨åœ–ç‰‡æˆ–è²¼åœ–å›è¦†ï¼ˆTelegram è²¼åœ–ä¹Ÿå¯ä»¥ç•¶ä½œåœ–ç‰‡ç´ æï¼‰ï¼š

![åœ–ç‰‡å›è¦†æ–‡å­—](https://cdn.jsdelivr.net/gh/321hi123/typoraimgbed/img/image-20251206152215758.png)

ç”Ÿæˆçµæœï¼š

![ç”Ÿæˆçµæœ](https://cdn.jsdelivr.net/gh/321hi123/typoraimgbed/img/image-20251206152257926.png)

### åƒæ•¸è¨­å®š

åœ¨æ–‡å­—ä¸­ä½¿ç”¨ @ ç¬¦è™Ÿè¨­å®šåƒæ•¸ï¼ˆå‰å¾Œéœ€æœ‰ç©ºæ ¼ï¼‰ï¼š

```
ç¿»è­¯é€™å¼µæ¼«ç•« @16:9 @4K
```

ç¾¤çµ„å›è¦†åœ–ç‰‡æ™‚ï¼Œå¦‚æœåªæƒ³ä½¿ç”¨è¢«å›è¦†çš„é‚£ä¸€å¼µï¼ˆä¸è¦æ•´å€‹ media groupï¼‰ï¼Œå¯åŠ ä¸Šï¼š

```
ç¿»è­¯é€™å¼µ @s
```

**æ”¯æ´çš„æ¯”ä¾‹ï¼š**
@1:1 @2:3 @3:2 @3:4 @4:3 @4:5 @5:4 @9:16 @16:9 @21:9

**æ”¯æ´çš„ç•«è³ªï¼š**
@1K @2K @4K

> ğŸ’¡ ä¸æŒ‡å®šæ¯”ä¾‹æ™‚ï¼ŒAI æœƒè‡ªå‹•æ±ºå®šæœ€é©åˆçš„æ¯”ä¾‹

### ç¾¤çµ„ä½¿ç”¨

åœ¨ç¾¤çµ„ä¸­ï¼Œæ–‡å­—è¨Šæ¯éœ€ä»¥ . é–‹é ­æ‰æœƒè§¸ç™¼ï¼š

```
.å¹«æˆ‘ç•«ä¸€éš»è²“ @16:9
```

### Bot æŒ‡ä»¤

| æŒ‡ä»¤ | èªªæ˜ |
|------|------|
| /start | é¡¯ç¤ºä½¿ç”¨èªªæ˜ |
| /help | é¡¯ç¤ºå¹«åŠ© |
| /save åç¨± prompt | ä¿å­˜ Prompt |
| /list | åˆ—å‡ºå·²ä¿å­˜çš„ Prompt |
| /history | æŸ¥çœ‹ä½¿ç”¨æ­·å² |
| /setdefault | è¨­å®šé è¨­ Prompt |
| /settings | è¨­å®šé è¨­ç•«è³ª |
| /delete | åˆªé™¤å·²ä¿å­˜çš„ Prompt |
| /service | æœå‹™ç®¡ç†ï¼ˆæ–°å¢/åˆ‡æ›/åˆªé™¤ï¼‰ |

### æœå‹™ç®¡ç†æŒ‡ä»¤ï¼ˆ`/service`ï¼‰

```bash
# æŸ¥çœ‹èªªæ˜èˆ‡åˆ—è¡¨
/service help
/service list

# ä¸‰ç¨®æ‰‹å‹•æ–°å¢æ–¹å¼
/service add standard <åç¨±> <API_KEY>
/service add custom <åç¨±> <BASE_URL> <API_KEY>
/service add vertex <åç¨±> <API_KEY> <PROJECT_ID> <LOCATION> [MODEL] [BASE_URL]

# åˆ‡æ› / åˆªé™¤
/service use <æœå‹™ID>
/service delete <æœå‹™ID>
```

---

## âš™ï¸ ç’°å¢ƒè®Šæ•¸

| è®Šæ•¸ | å¿…å¡« | èªªæ˜ |
|------|------|------|
| GEMINI_API_KEY | âŒ | Google Gemini API Keyï¼ˆå¯æ”¹ç”¨ `/service add`ï¼‰ |
| GEMINI_BASE_URL | âŒ | Gemini API Base URLï¼ˆè‡ªè¨‚ä»£ç†ç”¨ï¼‰ |
| BOT_TOKEN | âœ… | Telegram Bot Token |
| DATA_DIR | âŒ | è³‡æ–™ç›®éŒ„ï¼ˆé è¨­ /app/dataï¼‰ |

---

## ğŸ› ï¸ æœ¬åœ°é–‹ç™¼

```bash
# Clone å°ˆæ¡ˆ
git clone https://github.com/123hi123/tg-bawer.git
cd tg-bawer

# å®‰è£ä¾è³´
go mod tidy

# è¨­å®šç’°å¢ƒè®Šæ•¸
export GEMINI_API_KEY=your_key
export GEMINI_BASE_URL=https://generativelanguage.googleapis.com
export BOT_TOKEN=your_token

# åŸ·è¡Œ
go run .
```

---

## ğŸ“„ License

MIT
